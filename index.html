<html>
<head>
  <title>6B</title>
<style>

</style>
</head>
<body>
<header id="mywords"></header>
<button onclick="start()">LISTEN TO ME</button>
<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/70/Circle-icons-mic.svg/512px-Circle-icons-mic.svg" width="200px" />
<script>
var words = document.querySelector('#mywords');
var SpeechRecognition = SpeechRecognition || webkitSpeechRecognition;

var recognition = new SpeechRecognition();
recognition.continuous = true;
recognition.lang = 'en-GB';
recognition.interimResults = true;
recognition.maxAlternatives = 1;

const start = _ => {
  recognition.start();
  console.log('I\'m listening.');
};

const stop = _ => {
  recognition.stop();
  console.log('I\'m ignoring you.');
};

recognition.onresult = function(event) {
  console.log("onresult");
  console.log(event);
  
  var result = event.results[0][0].transcript;
  console.log(result);
  words.innerText = result;
};

recognition.onspeechend = function() {
  console.log("onspeechend");
  console.log(event);
  recognition.stop();
};

recognition.onnomatch = function(event) {
  console.log("onnomatch");
  console.log(event);
};

recognition.onerror = function(event) {
  console.log("onerror");
  console.log(event);
};

</script>
</body>
</html>